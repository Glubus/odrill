<!-- Profile Section Partial -->
<section id="profile" class="settings-section active">
    <div class="section-header">
        <h2>Profile</h2>
        <p>Manage your public profile information</p>
    </div>
    
    <div class="profile-grid">
        <div class="avatar-upload">
            <img src="/uploads/avatars/{{ user.pid }}.webp?t={{ 0 }}" 
                 onerror="this.src='https://ui-avatars.com/api/?name={{ user.name }}&background=random&size=128'" 
                 id="currentAvatar" 
                 class="avatar-preview-lg">
            <button type="button" class="btn btn-secondary avatar-upload-btn" onclick="document.getElementById('avatarInput').click()">
                <i data-lucide="upload"></i> Change
            </button>
            <input type="file" id="avatarInput" accept="image/*" hidden>
        </div>

        <form id="profileForm">
            <div class="form-group">
                <label>Display Name</label>
                <input type="text" id="displayName" value="{{ user.name | default(value='User') }}" class="form-control">
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" value="{{ user.email | default(value='') }}" class="form-control" disabled>
            </div>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
    </div>
</section>
